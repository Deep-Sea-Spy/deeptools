<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buccinides • deeptools</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../cosmo.css" rel="stylesheet">
<link href="../thinkr.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="Buccinides">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
--><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!--  Code folding --><script src="../codefolding.js"></script><link href="../codefolding.css" rel="stylesheet">
<script>
         document.write('<div class="navbar"><div class="container"><div id="code-folding-buttons" class="btn-group"><button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-_extension-text-contrast=""><span>Show/Hide all code</span><span class="caret"></span></button><ul class="dropdown-menu" style="min-width: 50px;"><li><a id="rmd-show-all-code" href="#">Show All Code</a></li><li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li></ul></div></div></div>')
</script><!-- google analytics
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-115082821-1');
</script>
-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">deeptools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/aa-general-exploration.html">General exploration</a>
    </li>
    <li>
      <a href="../articles/ab-buccinides.html">Buccinides</a>
    </li>
    <li>
      <a href="../articles/ac-pycnogonide.html">Pycnogonide</a>
    </li>
    <li>
      <a href="../articles/ad-couverture_de_moules.html">Couverture de moules</a>
    </li>
    <li>
      <a href="../articles/ba-todo.html">TODO</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Buccinides</h1>
                        <h4 class="author">Sébastien Rochette, ThinkR</h4>
            
            <h4 class="date">2019-02-04</h4>
      
      
      <div class="hidden name"><code>ab-buccinides.Rmd</code></div>

    </div>

    
    
<script type="text/javascript">
$(document).ready(function () {
  window.initializeCodeFolding("show" === "hide");
});
</script><div id="exploration-of-buccinide-data" class="section level1">
<h1 class="hasAnchor">
<a href="#exploration-of-buccinide-data" class="anchor"></a>Exploration of “Buccinide” data</h1>
<div id="packages" class="section level2">
<h2 class="hasAnchor">
<a href="#packages" class="anchor"></a>Packages</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(dplyr)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(lubridate)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ggplot2)
<span class="co"># devtools::install_github("r-spatial/sf")</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(sf)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(raster)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(fasterize)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(igraph)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(rasterVis)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(cowplot)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(deeptools)
<span class="co"># devtools::document()</span>
<span class="co"># devtools::document()</span>
<span class="co"># devtools::load_all(here::here(""))</span></code></pre></div>
</div>
<div id="colours" class="section level2">
<h2 class="hasAnchor">
<a href="#colours" class="anchor"></a>Colours</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">blue &lt;-<span class="st"> "#093564"</span>
yellow &lt;-<span class="st"> "#efcc26"</span>
grey &lt;-<span class="st"> "#675546"</span></code></pre></div>
</div>
<div id="load-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-data" class="anchor"></a>Load data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load data</span>
export_file &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"data_orig/export_last.csv"</span>, <span class="dt">package =</span> <span class="st">"deeptools"</span>)
liste_photo &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"data_orig/liste_photo.txt"</span>, <span class="dt">package =</span> <span class="st">"deeptools"</span>)</code></pre></div>
</div>
<div id="prepare-data" class="section level2">
<h2 class="hasAnchor">
<a href="#prepare-data" class="anchor"></a>Prepare data</h2>
<ul>
<li>Cleaning of species names to be easily usable</li>
<li>Add user_id combining username and date of image analysis just in case a user sees the same image two times.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mission2 &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span>(export_file) <span class="op">%&gt;%</span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>comment) <span class="op">%&gt;%</span>
<span class="st">  </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/extract.html">extract</a></span>(name,
          <span class="dt">into =</span> <span class="st">"datetime"</span>, <span class="dt">regex =</span> <span class="st">"_([[:digit:]]+)."</span>,
          <span class="dt">remove =</span> <span class="ot">FALSE</span>
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">datetime =</span> <span class="kw"><a href="http://lubridate.tidyverse.org/reference/ymd_hms.html">ymd_hms</a></span>(datetime, <span class="dt">tz =</span> <span class="st">"UTC"</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="co"># clean names of species</span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">name_fr_clean =</span> thinkr<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/thinkr/topics/clean_vec">clean_vec</a></span>(name_fr, <span class="dt">unique =</span> <span class="ot">FALSE</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(username) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="dt">user_id =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(username, <span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/as.character">as.character</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/factor">as.factor</a></span>(datDeb))), <span class="dt">sep =</span> <span class="st">"-"</span>)
  ) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span>()</code></pre></div>
<pre><code>#&gt; Parsed with column specification:
#&gt; cols(
#&gt;   id = col_integer(),
#&gt;   image_id = col_integer(),
#&gt;   name = col_character(),
#&gt;   username = col_character(),
#&gt;   userlevel = col_integer(),
#&gt;   comment = col_character(),
#&gt;   datDeb = col_datetime(format = ""),
#&gt;   datFin = col_datetime(format = ""),
#&gt;   obs_code = col_character(),
#&gt;   name_fr = col_character(),
#&gt;   pos1x = col_integer(),
#&gt;   pos1y = col_integer(),
#&gt;   pos2x = col_integer(),
#&gt;   pos2y = col_integer(),
#&gt;   length = col_integer(),
#&gt;   middle_x = col_integer(),
#&gt;   middle_y = col_integer(),
#&gt;   polygon_values = col_character()
#&gt; )</code></pre>
<pre><code>#&gt; Warning in rbind(names(probs), probs_f): number of columns of result is not
#&gt; a multiple of vector length (arg 1)</code></pre>
<pre><code>#&gt; Warning: 305088 parsing failures.
#&gt; row # A tibble: 5 x 5 col      row col     expected  actual file                                      expected    &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;                                     actual 1 100288 pos2x   an integ… NULL   '/usr/local/lib/R/site-library/deeptools… file 2 100288 pos2y   an integ… NULL   '/usr/local/lib/R/site-library/deeptools… row 3 100288 length  an integ… NULL   '/usr/local/lib/R/site-library/deeptools… col 4 100288 middle… an integ… NULL   '/usr/local/lib/R/site-library/deeptools… expected 5 100288 middle… an integ… NULL   '/usr/local/lib/R/site-library/deeptools…
#&gt; ... ................. ... ........................................................................... ........ ........................................................................... ...... ........................................................................... .... ........................................................................... ... ........................................................................... ... ........................................................................... ........ ...........................................................................
#&gt; See problems(...) for more details.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Separate observatory dataset</span>
mission2_MAR &lt;-<span class="st"> </span>mission2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(obs_code <span class="op">==</span><span class="st"> "MAR"</span>)
mission2_ONC &lt;-<span class="st"> </span>mission2 <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(obs_code <span class="op">==</span><span class="st"> "JDF"</span>)</code></pre></div>
</div>
<div id="extraction-of-buccinide" class="section level2">
<h2 class="hasAnchor">
<a href="#extraction-of-buccinide" class="anchor"></a>Extraction of “Buccinide”</h2>
<p>Function <code>to_carto</code> extract and transform data as spatial object for following analyses.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Filter on Buccinide only</span>
ONC2_bucc &lt;-<span class="st"> </span>mission2_ONC <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(name_fr_clean <span class="op">==</span><span class="st"> "escargot_buccinide"</span>)

<span class="co"># Filter and transform as spatial data</span>
ONC2_bucc_carto &lt;-<span class="st"> </span>mission2_ONC <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="../reference/to_carto.html">to_carto</a></span>(name_fr_clean, <span class="st">"escargot_buccinide"</span>)</code></pre></div>
</div>
<div id="exploration-of-annotations" class="section level2">
<h2 class="hasAnchor">
<a href="#exploration-of-annotations" class="anchor"></a>Exploration of annotations</h2>
<div id="users" class="section level3">
<h3 class="hasAnchor">
<a href="#users" class="anchor"></a>Users</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ONC2_bucc <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(username) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n))</code></pre></div>
<pre><code>#&gt; # A tibble: 453 x 2
#&gt;    username        n
#&gt;    &lt;chr&gt;       &lt;int&gt;
#&gt;  1 chipiok     14183
#&gt;  2 grillus33    5230
#&gt;  3 tiffk67      2534
#&gt;  4 classe       2057
#&gt;  5 Audrette     1917
#&gt;  6 Kazu         1819
#&gt;  7 fetescience  1731
#&gt;  8 Steatoda     1516
#&gt;  9 Pierre       1367
#&gt; 10 Azaldar      1231
#&gt; # … with 443 more rows</code></pre>
</div>
<div id="images" class="section level3">
<h3 class="hasAnchor">
<a href="#images" class="anchor"></a>Images</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ONC2_bucc <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(image_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n))</code></pre></div>
<pre><code>#&gt; # A tibble: 3,251 x 2
#&gt;    image_id     n
#&gt;       &lt;int&gt; &lt;int&gt;
#&gt;  1    11873   101
#&gt;  2    11201    88
#&gt;  3    10747    86
#&gt;  4    11383    86
#&gt;  5    12794    85
#&gt;  6    12783    83
#&gt;  7    12200    82
#&gt;  8    11830    80
#&gt;  9    11379    79
#&gt; 10    11947    78
#&gt; # … with 3,241 more rows</code></pre>
</div>
<div id="example-filter_col-username-filter_val-lawzama-image_id-10681" class="section level3">
<h3 class="hasAnchor">
<a href="#example-filter_col-username-filter_val-lawzama-image_id-10681" class="anchor"></a>Example: <code>filter_col = username, filter_val = "Lawzama", image_id == "10681"</code>
</h3>
<pre><code>#&gt; # A tibble: 115 x 2
#&gt;    image_id     n
#&gt;       &lt;int&gt; &lt;int&gt;
#&gt;  1    12860    12
#&gt;  2    10957    10
#&gt;  3    12568    10
#&gt;  4    10853     9
#&gt;  5    11704     8
#&gt;  6    12350     8
#&gt;  7    10821     7
#&gt;  8    11383     7
#&gt;  9    11517     7
#&gt; 10    11705     7
#&gt; # … with 105 more rows</code></pre>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-9-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="example-filter_col-username-filter_val-kazu-image_id-10681" class="section level3">
<h3 class="hasAnchor">
<a href="#example-filter_col-username-filter_val-kazu-image_id-10681" class="anchor"></a>Example: <code>filter_col = username, filter_val = "Kazu", image_id == "10681"</code>
</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/gg_users_image.html">gg_users_image</a></span>(<span class="dt">x =</span> ONC2_bucc_carto,
               <span class="dt">filter_col =</span> username, <span class="dt">filter_val =</span> <span class="st">"Kazu"</span>,
               <span class="dt">image_id =</span> <span class="dv">10681</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-10-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="example-filter_col-username-filter_val-ckazu-lawzama-image_id-10681" class="section level3">
<h3 class="hasAnchor">
<a href="#example-filter_col-username-filter_val-ckazu-lawzama-image_id-10681" class="anchor"></a>Example: <code>filter_col = username, filter_val = c("Kazu", "Lawzama"), image_id == "10681"</code>
</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/gg_users_image.html">gg_users_image</a></span>(<span class="dt">x =</span> ONC2_bucc_carto,
               <span class="dt">filter_col =</span> username, <span class="dt">filter_val =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Kazu"</span>, <span class="st">"Lawzama"</span>),
               <span class="dt">image_id =</span> <span class="dv">10681</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-11-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="compare-annotations-of-the-same-image" class="section level2">
<h2 class="hasAnchor">
<a href="#compare-annotations-of-the-same-image" class="anchor"></a>Compare annotations of the same image</h2>
<div id="super-impose-annotations" class="section level3">
<h3 class="hasAnchor">
<a href="#super-impose-annotations" class="anchor"></a>Super-impose annotations</h3>
<p>This allows to check visually what sizes of buffer we can use to determine animals discovered by two persons.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Number of animals seen on the image by username</span>
ONC2_bucc <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(image_id <span class="op">==</span><span class="st"> </span><span class="dv">10681</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(user_id)</code></pre></div>
<pre><code>#&gt; # A tibble: 4 x 2
#&gt;   user_id          n
#&gt;   &lt;chr&gt;        &lt;int&gt;
#&gt; 1 Audrette-483     8
#&gt; 2 Kazu-100        19
#&gt; 3 Lawzama-37       2
#&gt; 4 Maguelone-47    10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/gg_users_image.html">gg_users_image</a></span>(<span class="dt">x =</span> ONC2_bucc_carto,
               <span class="dt">image_id =</span> <span class="dv">10681</span>, <span class="dt">buffer =</span> <span class="dv">10</span>)  </code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-12-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="find-common-animals-between-users" class="section level3">
<h3 class="hasAnchor">
<a href="#find-common-animals-between-users" class="anchor"></a>Find common animals between users</h3>
<div id="method-detailed" class="section level4">
<h4 class="hasAnchor">
<a href="#method-detailed" class="anchor"></a>Method detailed</h4>
<p><em>These steps do not have to be run as they are included in <code>find_groups_in_image</code> function presented below. These steps are here to explain the method.</em></p>
<p>To compute statistics on individuals on images, it is important to know if different users found the same individuals. There is a variability in positioning individuals. Hence, to find out common individuals between users, we need to look in the neighborhood. A quick exploration suggests a buffer area of 10 pixels could be enough for finding overlapping annotations.<br>
The following steps are here to detail the complete process, but at the end, they are all included in a unique fonction <code>find_commons</code>. <em>Note that functions are adapted to the structure of the examle dataset, included column names.</em></p>
<p>For each image steps are:</p>
<ul>
<li>Create Voronoi polygons around sf features by <code>user_id</code>. Voronoi is necessary to get non overlapping buffer areas of too close individuals. This also allows for super-imposed individuals.</li>
<li>Crop Voronoi with buffer area. This avoids to look in a too far neighborhood.</li>
<li>Transform Voronoi as raster by <code>user_id</code>. Transforming polygons into pixels allow to find out the most overlapping groups of polygons among users.</li>
<li>Stack all rasters by <code>image_id</code>
</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Choose one image for one user</span>
image_id &lt;-<span class="st"> "10681"</span>
user_id &lt;-<span class="st"> "Kazu-100"</span>

bucc_image_user &lt;-<span class="st"> </span>ONC2_bucc_carto <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(image_id <span class="op">==</span><span class="st"> </span><span class="op">!!</span>image_id,
                user_id <span class="op">==</span><span class="st"> </span><span class="op">!!</span>user_id)

r_image &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(bucc_image_user, <span class="dt">res =</span> <span class="fl">0.5</span>)
dist_buffer &lt;-<span class="st"> </span><span class="dv">10</span>

<span class="co"># Calculate voronoi for one user_id</span>
image_user_intermediates &lt;-<span class="st"> </span><span class="kw"><a href="../reference/voronoi_rasterize.html">voronoi_rasterize</a></span>(
  <span class="dt">x =</span> bucc_image_user,
  <span class="dt">dist_buffer =</span> dist_buffer,
  <span class="dt">r_image =</span> r_image,
  <span class="dt">keep_intermediate =</span> <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Show intermediate steps</span>
p1 &lt;-<span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(image_user_intermediates<span class="op">$</span>points_in_voronoi) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">fill =</span> image_pol_id)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_cast">st_cast</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(bucc_image_user), <span class="st">"POINT"</span>), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/theme_images.html">theme_images</a></span>(<span class="dt">x =</span> image_user_intermediates<span class="op">$</span>points_in_voronoi, <span class="dt">fill =</span> <span class="st">"c"</span>, <span class="dt">color =</span> <span class="ot">NULL</span>)
  
p2 &lt;-<span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(image_user_intermediates<span class="op">$</span>points_in_voronoi_in_buffer) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">fill =</span> image_pol_id)) <span class="op">+</span>
<span class="st">    </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_cast">st_cast</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(bucc_image_user), <span class="st">"POINT"</span>), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/theme_images.html">theme_images</a></span>(<span class="dt">x =</span> image_user_intermediates<span class="op">$</span>points_in_voronoi, <span class="dt">fill =</span> <span class="st">"c"</span>, <span class="dt">color =</span> <span class="ot">NULL</span>)

p3 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/rasterVis/topics/gplot-methods">gplot</a></span>(image_user_intermediates<span class="op">$</span>voronoi_in_buffer_as_raster) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">fill =</span> value)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/theme_images.html">theme_images</a></span>(<span class="dt">x =</span> image_user_intermediates<span class="op">$</span>points_in_voronoi, <span class="dt">fill =</span> <span class="st">"c"</span>, <span class="dt">color =</span> <span class="ot">NULL</span>, <span class="dt">na.value =</span> <span class="ot">NA</span>)

cowplot<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/cowplot/topics/plot_grid">plot_grid</a></span>(<span class="dt">plotlist =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(p1, p2, p3), <span class="dt">ncol =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-13-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>The above intermediate steps are included in the <code>voronoi_stacker</code> function, which stacks rasters of all <code>user_id</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">image_id &lt;-<span class="st"> "10681"</span>
bucc_image &lt;-<span class="st"> </span>ONC2_bucc_carto <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(image_id <span class="op">==</span><span class="st"> </span><span class="op">!!</span>image_id)

r_image &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(bucc_image, <span class="dt">res =</span> <span class="fl">0.5</span>)
dist_buffer &lt;-<span class="st"> </span><span class="dv">15</span>

bucc_voronoi_stack &lt;-<span class="st"> </span><span class="kw"><a href="../reference/voronoi_stacker.html">voronoi_stacker</a></span>(<span class="dt">x =</span> bucc_image,
           <span class="dt">dist_buffer =</span> dist_buffer,
           <span class="dt">r_image =</span> r_image)</code></pre></div>
<pre><code>#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/rasterVis/topics/gplot-methods">gplot</a></span>(bucc_voronoi_stack) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html">geom_tile</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">fill =</span> value)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>variable) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="../reference/theme_images.html">theme_images</a></span>(<span class="dt">x =</span> image_user_intermediates<span class="op">$</span>points_in_voronoi,
               <span class="dt">fill =</span> <span class="st">"c"</span>, <span class="dt">color =</span> <span class="ot">NULL</span>, <span class="dt">na.value =</span> <span class="ot">NA</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Pixels numbered according to marked individuals"</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-14-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>For each pixel of the stack, we can define a group of polygons with the same size as the number of <code>user_id</code>. Indeed, an important part of pixels are not covered by polygons and will be identified as <code>NA-...-NA-...-NA</code>. Once removed those pixels, we can find the most represented groups of polygons.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Combine layers and find groups of polygons</span>
bucc_groups_count &lt;-<span class="st"> </span><span class="kw"><a href="../reference/group_pixels_count.html">group_pixels_count</a></span>(bucc_voronoi_stack)
bucc_groups_count</code></pre></div>
<pre><code>#&gt; # A tibble: 86 x 2
#&gt;    grouped_ids n_pixels
#&gt;    &lt;chr&gt;          &lt;int&gt;
#&gt;  1 13-20-22-39     7614
#&gt;  2 6-NA-NA-NA      7388
#&gt;  3 NA-NA-NA-34     7172
#&gt;  4 10-NA-26-33     6765
#&gt;  5 1-21-29-30      6583
#&gt;  6 NA-NA-27-NA     6459
#&gt;  7 5-NA-NA-NA      6326
#&gt;  8 3-NA-NA-NA      5492
#&gt;  9 12-NA-24-37     5464
#&gt; 10 16-NA-NA-NA     5201
#&gt; # … with 76 more rows</code></pre>
<p>Problem is that some polygons are in more or less big groups, sometimes being in combination with two different polygons of the same user. We need to find out the best combinations of polygons to associate them to individuals really appearing on the original images.<br>
In step 1, for each polygon independently:</p>
<ul>
<li>Choose group when associated to maximum other polygons</li>
<li>Choose group with highest surface in common</li>
</ul>
<p>With these two rules, some chosen groups may include polygons associated to other groups.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#' Find in which groups are each polygons</span>
all_image_pol_ids &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span>(bucc_image, image_pol_id) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/unique">unique</a></span>()

bucc_groups_top &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_top_groups.html">find_top_groups</a></span>(bucc_groups_count,
                                   all_image_pol_ids)
test_ids_in_group &lt;-<span class="st"> </span><span class="kw"><a href="../reference/test_groups_kept.html">test_groups_kept</a></span>(bucc_groups_top)

<span class="co"># Show in how many groups are individuals (Should be only one)</span>
test_ids_in_group<span class="op">$</span>ids_in_groups_count</code></pre></div>
<pre><code>#&gt; # A tibble: 39 x 2
#&gt;    list_ids     n
#&gt;       &lt;dbl&gt; &lt;int&gt;
#&gt;  1       32     2
#&gt;  2        1     1
#&gt;  3        2     1
#&gt;  4        3     1
#&gt;  5        4     1
#&gt;  6        5     1
#&gt;  7        6     1
#&gt;  8        7     1
#&gt;  9        8     1
#&gt; 10        9     1
#&gt; # … with 29 more rows</code></pre>
<p>It is necessary to create a loop to reduce grouping possibilities based on same rules.<br>
In step two, for each <code>image_pol_id</code> found in multiple groups, keep the only group following the above two rules. Others are removed from list of possibilities. Step one is run again without these groups. Run these two steps until each polygon is found in one and only one group. <em>If an <code>image_pol_id</code> has no group left, it is included in a group alone</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># If image_pol_ids are not unique reduce possibilities until it is good</span>
<span class="cf">if</span> (test_ids_in_group<span class="op">$</span>max_groups <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) {
  <span class="co"># Run again group selection while removing groups with problems</span>
  <span class="co"># _Find groups to remove</span>
  test_ids_in_group2 &lt;-<span class="st"> </span>test_ids_in_group
  bucc_groups_top2 &lt;-<span class="st"> </span>bucc_groups_top
  group_remove2 &lt;-<span class="st"> </span><span class="ot">NULL</span>
  
  <span class="cf">while</span> (test_ids_in_group2<span class="op">$</span>max_groups <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) {

    group_remove &lt;-<span class="st"> </span>test_ids_in_group2<span class="op">$</span>ids_in_groups_count <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(n <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">inner_join</a></span>(test_ids_in_group2<span class="op">$</span>ids_in_groups, <span class="dt">by =</span> <span class="st">"list_ids"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">inner_join</a></span>(bucc_groups_top2, <span class="dt">by =</span> <span class="st">"group_kept"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>image_pol_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(list_ids) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n_pols), <span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n_pixels)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span>(<span class="op">-</span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span>(group_kept) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/unique">unique</a></span>()
    
    group_remove2 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/raster/topics/unique">unique</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(group_remove2, group_remove))
    
    bucc_groups_top2 &lt;-<span class="st"> </span>bucc_groups_count <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="op">!</span>grouped_ids <span class="op">%in%</span><span class="st"> </span>group_remove2) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw"><a href="../reference/find_top_groups.html">find_top_groups</a></span>(<span class="dt">all_ids =</span> all_image_pol_ids)
    
    <span class="co"># bucc_groups_top2 %&gt;% filter(grepl(7, group_kept))</span>
    <span class="co"># bucc_groups_top2 %&gt;% filter(grepl(32, group_kept))</span>
    
    test_ids_in_group2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/test_groups_kept.html">test_groups_kept</a></span>(bucc_groups_top2)
    
  }
  <span class="co"># Retrieve success grouping</span>
  bucc_groups_top &lt;-<span class="st"> </span>bucc_groups_top2
  <span class="co"># Last verification</span>
  test_ids_in_group &lt;-<span class="st"> </span><span class="kw"><a href="../reference/test_groups_kept.html">test_groups_kept</a></span>(bucc_groups_top)
}

<span class="co"># Show in how many groups are individuals (Should be only one)</span>
test_ids_in_group<span class="op">$</span>ids_in_groups_count</code></pre></div>
<pre><code>#&gt; # A tibble: 39 x 2
#&gt;    list_ids     n
#&gt;       &lt;dbl&gt; &lt;int&gt;
#&gt;  1        1     1
#&gt;  2        2     1
#&gt;  3        3     1
#&gt;  4        4     1
#&gt;  5        5     1
#&gt;  6        6     1
#&gt;  7        7     1
#&gt;  8        8     1
#&gt;  9        9     1
#&gt; 10       10     1
#&gt; # … with 29 more rows</code></pre>
</div>
<div id="function-find-groups-in-one-image" class="section level4">
<h4 class="hasAnchor">
<a href="#function-find-groups-in-one-image" class="anchor"></a>Function: Find groups in one image</h4>
<p>The above procedure is included in a unique function available for a unique image: <code><a href="../reference/find_groups_in_image.html">find_groups_in_image(x, image_id)</a></code> which adds the group name to the original dataset.<br>
We can then verify the grouping procedure visually.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add group names in image_sf</span>
bucc_image_grouped &lt;-<span class="st"> </span>ONC2_bucc_carto <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="../reference/find_groups_in_image.html">find_groups_in_image</a></span>(<span class="dt">image_id =</span> <span class="st">"10681"</span>)</code></pre></div>
<pre><code>#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries

#&gt; Warning: attribute variables are assumed to be spatially constant
#&gt; throughout all geometries</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create specific image with group names</span>
bucc_image_grouped_groups &lt;-<span class="st"> </span>bucc_image_grouped <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(group_kept) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/geos_unary">st_centroid</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_coordinates">st_coordinates</a></span>(.))</code></pre></div>
<pre><code>#&gt; Warning in st_centroid.sf(.): st_centroid assumes attributes are constant
#&gt; over geometries of x</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(bucc_image_grouped <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">         </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="dt">group_kept =</span> 
         forcats<span class="op">::</span><span class="kw"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span>(group_kept, <span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n_pols)))
       ) <span class="op">+</span>
<span class="st">    </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">color =</span> group_kept),
      <span class="dt">show.legend =</span> <span class="st">"line"</span>,
      <span class="dt">size =</span> <span class="dv">2</span> <span class="co">#alpha = 0.1</span>
    ) <span class="op">+</span>
<span class="st">  </span>ggrepel<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggrepel/topics/geom_text_repel">geom_text_repel</a></span>(
    <span class="dt">data =</span> bucc_image_grouped_groups,
    <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> X, <span class="dt">y =</span> Y, <span class="dt">label =</span> group_kept)) <span class="op">+</span>
<span class="st">    </span><span class="kw"><a href="../reference/theme_images.html">theme_images</a></span>(<span class="dt">x =</span> bucc_image_grouped, <span class="dt">fill =</span> <span class="ot">NULL</span>, <span class="dt">color =</span> <span class="st">"d"</span>, <span class="dt">na.value =</span> <span class="st">"grey20"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span>(<span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Identification of groups of marked individuals"</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-18-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="find-all-groups-for-all-images" class="section level3">
<h3 class="hasAnchor">
<a href="#find-all-groups-for-all-images" class="anchor"></a>Find all groups for all images</h3>
<p>Everything can be included in a unique function <code>find_groups_in_all_images</code> to explore the entire dataset at once.<br>
This takes some time and some place:</p>
<ul>
<li>~30min on dual core</li>
<li>Be sure to have at least <strong>10Go RAM</strong> available, otherwise use <code>find_groups_in_image</code> iteratively in a loop for instance.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Chunk not evaluated in Rmd as results are saved</span>
ONC2_bucc_carto_groups &lt;-<span class="st"> </span><span class="kw"><a href="../reference/find_groups_in_all_images.html">find_groups_in_all_images</a></span>(ONC2_bucc_carto, <span class="dt">.progress =</span> <span class="ot">TRUE</span>, <span class="dt">keep_list =</span> <span class="ot">FALSE</span>, <span class="dt">as_sf =</span> <span class="ot">FALSE</span>)

<span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files2">dir.exists</a></span>(here<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/here/topics/here">here</a></span>(<span class="st">"inst/outputs"</span>))) {
 <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files2">dir.create</a></span>(<span class="st">"inst/outputs"</span>, <span class="dt">recursive =</span> <span class="ot">TRUE</span>) 
}

readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/read_rds.html">write_rds</a></span>(
  ONC2_bucc_carto_groups,
  here<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/here/topics/here">here</a></span>(<span class="st">"inst/outputs"</span>, <span class="st">"ONC2_bucc_carto_groups.rds"</span>), 
  <span class="dt">compress =</span> <span class="st">"gz"</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">outwd &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.file">system.file</a></span>(<span class="st">"outputs"</span>, <span class="dt">package =</span> <span class="st">"deeptools"</span>)
ONC2_bucc_carto_groups &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw"><a href="https://readr.tidyverse.org/reference/read_rds.html">read_rds</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/file.path">file.path</a></span>(outwd, <span class="st">"ONC2_bucc_carto_groups.rds"</span>))</code></pre></div>
</div>
</div>
<div id="calculate-statistics-on-images" class="section level2">
<h2 class="hasAnchor">
<a href="#calculate-statistics-on-images" class="anchor"></a>Calculate statistics on images</h2>
<p><em>As a reminder, a group of objects is supposed to be a unique individual.</em></p>
<div id="number-of-objects-per-image-already-known-before" class="section level3">
<h3 class="hasAnchor">
<a href="#number-of-objects-per-image-already-known-before" class="anchor"></a>Number of objects per image (already known before)</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># ONC2_bucc_carto_groups </span>

<span class="co"># Number of objects per image (already known before)</span>
bucc_nobjects &lt;-<span class="st"> </span>ONC2_bucc_carto_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(image_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">rename</a></span>(<span class="dt">n_objects =</span> n) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(n_objects) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(n)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">rename</a></span>(<span class="dt">n_images =</span> n)

<span class="co"># Number of marked objects by images</span>
bucc_nobjects</code></pre></div>
<pre><code>#&gt; # A tibble: 86 x 2
#&gt;    n_objects n_images
#&gt;        &lt;int&gt;    &lt;int&gt;
#&gt;  1         4      228
#&gt;  2         6      187
#&gt;  3         8      185
#&gt;  4         5      175
#&gt;  5         7      162
#&gt;  6         9      161
#&gt;  7        12      149
#&gt;  8        10      142
#&gt;  9         3      139
#&gt; 10        11      102
#&gt; # … with 76 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(bucc_nobjects) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> n_objects, <span class="dt">y =</span> n_images), <span class="dt">width =</span> <span class="dv">1</span>, 
           <span class="dt">fill =</span> yellow, <span class="dt">colour =</span> grey) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Total number of objects identified in images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Number of objects by image"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> blue))</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-21-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="statistics-on-groups" class="section level3">
<h3 class="hasAnchor">
<a href="#statistics-on-groups" class="anchor"></a>Statistics on groups</h3>
<p>Calculate the number of users who marked the same individual. The <code>proportion</code> column can be used as a threshold to decide if the individual is kept. Indeed, an individual observed by only one of the users may not be a real individual.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Stats on groups</span>
bucc_groups &lt;-<span class="st"> </span>ONC2_bucc_carto_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(image_id, group_kept) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(
    <span class="dt">n_users =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>(),
    <span class="dt">n_user_id =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(n_user_id),
    <span class="dt">proportion =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>()<span class="op">/</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(n_user_id)
  ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span>()

<span class="co"># Number of individuals ~ proportion</span>
bucc_groups</code></pre></div>
<pre><code>#&gt; # A tibble: 24,272 x 5
#&gt;    image_id group_kept  n_users n_user_id proportion
#&gt;       &lt;int&gt; &lt;chr&gt;         &lt;int&gt;     &lt;dbl&gt;      &lt;dbl&gt;
#&gt;  1    10680 1-19-NA-44        3         4       0.75
#&gt;  2    10680 10-NA-NA-NA       1         4       0.25
#&gt;  3    10680 11-NA-NA-NA       1         4       0.25
#&gt;  4    10680 12-NA-NA-NA       1         4       0.25
#&gt;  5    10680 13-26-NA-NA       2         4       0.5 
#&gt;  6    10680 14-NA-NA-NA       1         4       0.25
#&gt;  7    10680 2-18-36-43        4         4       1   
#&gt;  8    10680 3-23-34-40        4         4       1   
#&gt;  9    10680 4-22-33-42        4         4       1   
#&gt; 10    10680 5-21-32-39        4         4       1   
#&gt; # … with 24,262 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot</span>
bucc_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(proportion), <span class="dt">bins =</span> <span class="dv">10</span>,
                 <span class="dt">fill =</span> yellow, <span class="dt">colour =</span> grey) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Number of individuals ~ proportion"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Proportion of users who identified an individual"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of individuals in this case"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> blue))</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-22-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
<div id="statistics-on-number-of-groups-by-image" class="section level3">
<h3 class="hasAnchor">
<a href="#statistics-on-number-of-groups-by-image" class="anchor"></a>Statistics on number of groups by image</h3>
<p>Calculate the number of groups in all images.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Stats on nb groups by image
bucc_ngroups_count &lt;-<span class="st"> </span>bucc_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(image_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">n_groups =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>()) 

<span class="co"># Number of images</span>
bucc_ngroups_count <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(n_groups)</code></pre></div>
<pre><code>#&gt; # A tibble: 36 x 2
#&gt;    n_groups     n
#&gt;       &lt;int&gt; &lt;int&gt;
#&gt;  1        1   327
#&gt;  2        2   467
#&gt;  3        3   441
#&gt;  4        4   381
#&gt;  5        5   265
#&gt;  6        6   198
#&gt;  7        7   120
#&gt;  8        8    77
#&gt;  9        9    60
#&gt; 10       10    58
#&gt; # … with 26 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(bucc_ngroups_count) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> n_groups), <span class="dt">bins =</span> <span class="dv">30</span>,
                 <span class="dt">fill =</span> yellow, <span class="dt">colour =</span> grey) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Number of groups (~individuals) in images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Number of groups by image"</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> blue))</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-23-1.png" width="90%" style="display: block; margin: auto;"></p>
<p>If we only keep groups identified by at least half of the users, we can recalculate the number of groups by image.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Stats on nb groups by image
bucc_ngroups_count_thd &lt;-<span class="st"> </span>bucc_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(proportion <span class="op">&gt;=</span><span class="st"> </span><span class="fl">0.5</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(image_id) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">n_groups =</span> <span class="kw"><a href="https://dplyr.tidyverse.org/reference/n.html">n</a></span>()) 

<span class="co"># Number of images</span>
bucc_ngroups_count_thd <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/tally.html">count</a></span>(n_groups)</code></pre></div>
<pre><code>#&gt; # A tibble: 27 x 2
#&gt;    n_groups     n
#&gt;       &lt;int&gt; &lt;int&gt;
#&gt;  1        1   655
#&gt;  2        2   680
#&gt;  3        3   513
#&gt;  4        4   327
#&gt;  5        5   145
#&gt;  6        6    71
#&gt;  7        7    50
#&gt;  8        8    71
#&gt;  9        9    92
#&gt; 10       10    92
#&gt; # … with 17 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Plot</span>
<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(bucc_ngroups_count_thd) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> n_groups), <span class="dt">bins =</span> <span class="dv">30</span>,
                 <span class="dt">fill =</span> yellow, <span class="dt">colour =</span> grey) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Number of groups (~individuals) in images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Groups with proportion &gt;= 0.5 by image"</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of images"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> blue))</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-24-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="estimate-average-size-of-individuals" class="section level2">
<h2 class="hasAnchor">
<a href="#estimate-average-size-of-individuals" class="anchor"></a>Estimate average size of individuals</h2>
<p><em>We assume that a group is a unique individual.</em><br>
We also remove groups identified by less than 50% of users.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Mean size of individuals</span>
bucc_lengths &lt;-<span class="st"> </span>ONC2_bucc_carto_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(bucc_groups <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">              </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(image_id, group_kept, proportion),
            <span class="dt">by =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"image_id"</span>, <span class="st">"group_kept"</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(proportion <span class="op">&gt;=</span><span class="st"> </span><span class="fl">0.5</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(image_id, group_kept) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(<span class="dt">mean_length =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(length))

<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(bucc_lengths) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span>(<span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(mean_length), <span class="dt">bins =</span> <span class="dv">50</span>,
                 <span class="dt">fill =</span> yellow, <span class="dt">colour =</span> grey) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_log10</a></span>() <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="dt">panel.background =</span> <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span>(<span class="dt">fill =</span> blue)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">"Distribution of lengths of individuals"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"Group mean length (log scale)"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span>(<span class="st">"Number of individuals"</span>)</code></pre></div>
<p><img src="ab-buccinides_files/figure-html/unnamed-chunk-25-1.png" width="90%" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#exploration-of-buccinide-data">Exploration of “Buccinide” data</a><ul class="nav nav-pills nav-stacked">
<li><a href="#packages">Packages</a></li>
      <li><a href="#colours">Colours</a></li>
      <li><a href="#load-data">Load data</a></li>
      <li><a href="#prepare-data">Prepare data</a></li>
      <li><a href="#extraction-of-buccinide">Extraction of “Buccinide”</a></li>
      <li><a href="#exploration-of-annotations">Exploration of annotations</a></li>
      <li><a href="#compare-annotations-of-the-same-image">Compare annotations of the same image</a></li>
      <li><a href="#calculate-statistics-on-images">Calculate statistics on images</a></li>
      <li><a href="#estimate-average-size-of-individuals">Estimate average size of individuals</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="thinkr">
  <p>deeptools is a  <strong>ThinkR</strong> package. Learn more at <a href="https://rtask.thinkr.fr">rtask.thinkr.fr</a>.</p>
</div>

<div class="author">
  <p>
    Developed by Sebastien Rochette.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>
      </footer>
</div>

  

  </body>
</html>
